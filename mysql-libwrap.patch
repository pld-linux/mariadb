--- mysql-4.1.9/sql/mysqld.cc.orig	2005-01-11 23:06:00.000000000 +0100
+++ mysql-4.1.9/sql/mysqld.cc	2005-02-06 17:21:26.238717200 +0100
@@ -133,7 +133,16 @@
 #endif /* __WIN__ */
 
 #ifdef HAVE_LIBWRAP
+#define hosts_access hosts_access_old
+#define sock_host sock_host_old
+#define eval_client eval_client_old
 #include <tcpd.h>
+#undef hosts_access
+#undef sock_host
+#undef eval_client
+extern int hosts_access(struct request_info *);
+extern int sock_host(struct request_info *);
+extern int eval_client(struct request_info *);
 #include <syslog.h>
 #ifdef NEED_SYS_SYSLOG_H
 #include <sys/syslog.h>
